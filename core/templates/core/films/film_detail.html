{% extends "core/base.html" %}
{% block title %}
  {{ object.name }}
{% endblock title %}
{% load thumbnail %}

{% block banner %}
  <div class="banner">
    <picture>
      <img src="{{ film.image.url }}" alt="">
    </picture>
    <div class="banner-content container">

    </div>
  </div>
{% endblock %}

{% block content %}

{% if user.is_authenticated %}
  <a href="{% url 'film-update' film.slug film.id %}" class="btn-sm btn-dark mb-5">Edit Film</a>
  <a href="{% url 'film-delete' film.slug film.id %}" class="btn-sm btn-dark mb-5">Delete Film</a>
{% endif %}

  <div class="col-10 mb-5">
    <h1 class="display-3 font-weight-bold">{{ object.name }}</h1>

    <p><strong>Director:</strong> {{ object.director }}<br>
    <strong>Cast:</strong> {{ object.cast }}<br>
    <strong>Country:</strong> {{ object.country }}<br>
    <strong>Year:</strong> {{ object.year }}<br>
    <strong>Duration:</strong> {{ object.length }} minutes<br>
    <strong>Certificate:</strong> {{ object.certificate }}</p>

    <p>{{ object.copy }}</p>
  </div>

<hr>

  <div class="mt-5">
      {% if screenings %}
      <h1 class="display-5">Upcoming Screenings</h1>

      <div class="row mt-5">
        <table class="table col-sm-8 table-striped">
          <tbody>
          {% for screening in screenings %}
            <tr>
              <td><a href="/screenings/{{screening.id}}/">{{ screening.film }}</a></td>
              <td>{{ screening.venue }}, {{ screening.venue.city }}</td>
              <td>{{ screening.date }} {{ screening.start_time }}</td>
              <td><a href="{{ screening.tickets }}" target="_blank" class="btn btn-primary mt-3">Buy tickets</a></td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
      </div>
    {% endif %}
  </div>

  <div class="mt-5">
      {% if pastscreenings %}
      <h1 class="display-5">Past Screenings</h1>

      <div class="row mt-5">
        <table class="table table-striped col-sm-8">
          <tbody>
          {% for screening in pastscreenings %}
            <tr>
              <td><a href="/screenings/{{screening.id}}/">{{ screening.film }}</a></td>
              <td>{{ screening.venue }}, {{ screening.venue.city }}</td>
              <td>{{ screening.date }} {{ screening.start_time }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
      </div>
    {% endif %}
  </div>

{% endblock content %}
